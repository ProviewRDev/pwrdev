include $(pwre_dir_symbols)

ifndef variables_mk
 include $(pwre_croot)/src/tools/bld/src/variables.mk
endif

ifndef rules_mk
 include $(pwre_croot)/src/tools/bld/src/rules.mk
endif

.SUFFIXES:

.PHONY : all init copy lib exe clean realclean \
         $(clean_ge)

all : init copy lib exe

init : dirs

copy :

lib :

exe : $(bld_dir)/control_pwrrt $(bld_dir)/control_pwr $(bld_dir)/control_pwrdemo
rpi : $(bld_dir)/control_pwrrpi
rpi64 : $(bld_dir)/control_pwrrpi64

clean :

realclean :

dirs : $(bld_dir)$(dir_ext)

$(bld_dir)$(dir_ext) :
	@ $(mkdir) -p $(mkdirflags) $(basename $@)

$(bld_dir)/control_pwrrt : ../pwrrt/control
	@ echo "build $(target)"
	@ ../pwrrt/build.sh
	@ cp $(source) $(target)

$(bld_dir)/control_pwr : ../pwr/control
	@ echo "build $(target)"
	@ ../pwr/build.sh
	@ cp $(source) $(target)

$(bld_dir)/control_pwrdemo : ../pwrdemo/control
	@ echo "build $(target)"
	@ ../pwrdemo/build.sh
	@ cp $(source) $(target)

$(bld_dir)/control_pwrrpi : ../pwrrpi/control
	@ echo "build $(target)"
	@ ../pwrrpi/build.sh
	@ cp $(source) $(target)

$(bld_dir)/control_pwrrpi64 : ../pwrrpi64/control
	@ echo "build $(target)"
	@ ../pwrrpi64/build.sh
	@ cp $(source) $(target)
